<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>GeoAR.js Demo</title>

    <script src="https://aframe.io/releases/1.3.0/aframe.min.js"></script>
    <script src="https://unpkg.com/aframe-look-at-component@0.8.0/dist/aframe-look-at-component.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/AR-js-org/AR.js/aframe/build/aframe-ar-nft.js"></script>
</head>1

<body>
<a-scene
        vr-mode-ui="enabled: false"
        arjs="sourceType: webcam; videoTexture: true; debugUIEnabled: false;"
>
    <a-image
            id="castle"
            position="0 0 -30"
            src="url(../img/castle3.png)"
            look-at="[gps-camera]"
            opacity="0.4"
            scale="20 20 20"></a-image>

    <a-camera
            id="camera"
            rotation-reader
            gps-camera
            fov="70"
            aspect="1.5"
    ></a-camera>

    <script>
    // Adjust the aspect ratio dynamically based on custom horizontal FOV (e.g., 100Â° horizontal)
    const verticalFOV = 80;  // Vertical FOV in degrees
    const desiredHorizontalFOV = 60; // Horizontal FOV in degrees

    // Calculate the aspect ratio using the formula for horizontal FOV
    const aspectRatio = Math.tan(Math.PI * (desiredHorizontalFOV / 360)) / Math.tan(Math.PI * (verticalFOV / 360));

    // Update the camera with the new aspect ratio
    document.querySelector("#camera").setAttribute("aspect", aspectRatio);
    </script>

</a-scene>
</body>
</html>
